(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{2061:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2612);e.EmacsExtension=i.EmacsExtension;var o=n(2476);e.registerGlobalCommand=o.registerGlobalCommand,e.getAllMappings=o.getAllMappings;var r=n(2552);e.Actions=r,e.default=i.EmacsExtension},2476:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2552);e.prefixPreservingKeys={"M-g":!0,"C-x":!0,"C-q":!0,"C-u":!0};var o=new i.SetMark,r=new i.UndoAction,s=new i.MoveCursorDown,u=new i.MoveCursorUp,a=new i.MoveCursorRight,c=new i.MoveCursorLeft;e.COMMANDS={"M-/":{description:"",action:"editor.action.triggerSuggest"},"C-'":{description:"",action:"editor.action.triggerSuggest"},"M-;":{description:"",action:"editor.action.commentLine"},"C-t":{description:"",action:"editor.action.transpose"},"C-x C-p":{description:"",action:"selectAll"},Tab:{description:"",action:"editor.action.formatDocument"},"C-Backspace":{description:"",action:"deleteWordLeft"},"M-Backspace":{description:"",action:"deleteWordLeft"},"M-Delete":{description:"",action:"deleteWordLeft"},"C-x C-u":{description:"",action:"editor.action.transformToUppercase"},"C-x C-l":{description:"",action:"editor.action.transformToLowercase"},"C-v":{description:"",action:"cursorPageDown"},PageDown:{description:"",action:"cursorPageDown"},"M-v":{description:"",action:"cursorPageUp"},PageUp:{description:"",action:"cursorPageUp"},"M-g n":{description:"",action:"editor.action.marker.next"},"M-g p":{description:"",action:"editor.action.marker.prev"},"M-C-n":{description:"",action:"editor.action.addSelectionToNextFindMatch"},"C-h":{description:"",action:"deleteLeft"},"M-d":{description:"",action:"deleteWordRight"},"S-C-":{description:"",action:"editor.action.triggerParameterHints"},"C-SPC":o,"S-C-2":o,"C-/":r,"S-C--":r,"C-z":r,"C-x u":r,"C-n":s,"C-p":u,"C-f":a,"C-b":c,"S-C-Backspace":new i.DeleteLines,"M-f":new i.MoveCursorWordRight,"M-b":new i.MoveCursorWordLeft,"C-k":new i.KillLines,"C-m":new i.InsertLineAfter,"C-w":new i.KillSelection,"C-o":new i.InsertLineBelow,"C-g":new i.KeyBoardQuit,"C-e":new i.MoveCursorToLineEnd,"C-a":new i.MoveCursorToLineStart,"C-y":new i.Yank,"M-w":new i.YankSelectionToRing,"M-y":new i.YankRotate,"C-l":new i.RevealToCenterAction,"C-q Tab":new i.InsertTabs,"M-r":new i.RotateCursorOnScreen,"M-g g":new i.GotoLine,"M-g M-g":new i.GotoLine,"C-x C-x":new i.InvertSelection,"S-M-.":new i.MoveCursorBottom,"S-M-,":new i.MoveCursorTop,"C-s":new i.Search,"C-r":new i.Search,"S-M-5":new i.SearchReplace},e.executeCommand=function(t,e,n){var o=t.getEditor(),r=parseInt(n)||1;if(e.run)e.run(o,t,r);else if("string"==typeof e.action)for(var s=0;s<r;s++)o.trigger(i.SOURCE,e.action,null);else if(Array.isArray(e.action))for(s=0;s<r;s++)e.action.forEach(function(t){o.trigger(i.SOURCE,t,null)})},e.registerGlobalCommand=function(t,n){e.COMMANDS[t]=n},e.getAllMappings=function(){var t={};return Object.keys(e.COMMANDS).forEach(function(n){t[n]=e.COMMANDS[n].description}),t}},2552:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(2275);e.SOURCE="extension.emacs";var s=function(){return function(){this.description=""}}();e.BaseAction=s;var u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n){var i=t.getSelections();i.length&&i.forEach(function(i){var o=t.getModel().getValueInRange(i);n.state.addToRing(o),t.executeEdits(e.SOURCE,[{range:i,text:""}])})},n}(s);e.KillSelection=u;var a=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){n.selectionMode=!1;var o,s=t.getModel(),u=n.getCursorAnchor();if(1===i){var a=s.getLineLength(u.lineNumber),c=u.column===a+1;if(!a||c)return n.state.addToRing(s.getEOL()),void t.trigger(e.SOURCE,"deleteAllRight",null);o=new r.Position(u.lineNumber,s.getLineLength(u.lineNumber)+1)}else{var l=s.getLineCount(),p=u.lineNumber+i>l?l:u.lineNumber+i;o=new r.Position(p,s.getLineLength(p)+1)}var d=r.Range.fromPositions(u,o);console.log(d,i),n.state.addToRing(s.getValueInRange(d)),t.executeEdits(e.SOURCE,[{range:d,text:""}]),t.setSelection(r.Selection.fromPositions(u,u))},n}(s);e.KillLines=a;var c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){var o=t.getPosition();t.trigger(e.SOURCE,"editor.action.insertLineAfter",null),t.setPosition(o)},n}(s);e.InsertLineBelow=c;var l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){for(var o="",s=0;s<i;s++)o+=t.getModel().getEOL();n.selectionMode=!1;var u=n.getCursorAnchor();t.executeEdits(e.SOURCE,[{range:r.Range.fromPositions(u),text:o,forceMoveMarkers:!0}])},n}(s);e.InsertLineAfter=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){e.selectionMode;var n=t.getSelection(),i=n.isEmpty();i||(n.getDirection()===r.SelectionDirection.LTR?t.setSelection(r.Selection.fromPositions(n.getEndPosition(),n.getEndPosition())):t.setSelection(r.Selection.fromPositions(n.getStartPosition(),n.getStartPosition())));i&&e.selectionMode?e.selectionMode=!1:e.selectionMode=!0},e}(s);e.SetMark=p;var d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit="char",e}return o(n,t),n.prototype.run=function(t,n,i){!function(t,n,i,o,r){void 0===r&&(r=1);for(var s="cursor"+("word"===o?"Word":"")+i+(n?"Select":""),u=0;u<r;u++)t.trigger(e.SOURCE,s,null)}(t,n.selectionMode,this.direction,this.unit,i)},n}(s),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Up",e}return o(e,t),e}(d);e.MoveCursorUp=h;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Down",e}return o(e,t),e}(d);e.MoveCursorDown=f;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Left",e}return o(e,t),e}(d);e.MoveCursorLeft=g;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Right",e}return o(e,t),e}(d);e.MoveCursorRight=v;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="End",e}return o(e,t),e}(d);e.MoveCursorToLineEnd=_;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Home",e}return o(e,t),e}(d);e.MoveCursorToLineStart=y;var C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit="word",e}return o(e,t),e}(v);e.MoveCursorWordRight=C;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unit="word",e}return o(e,t),e}(g);e.MoveCursorWordLeft=m;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Bottom",e}return o(e,t),e}(d);e.MoveCursorBottom=S;var M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction="Top",e}return o(e,t),e}(d);e.MoveCursorTop=M;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){e.selectionMode=!1,e.clearState(),t.setPosition(t.getPosition())},e}(s);e.KeyBoardQuit=b;var P=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){for(var o=0;o<i;o++)t.trigger(e.SOURCE,this.action,null)},n}(s),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action="undo",e}return o(e,t),e}(P);e.UndoAction=E;var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action="redo",e}return o(e,t),e}(P);e.RedoAction=w;var R=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){var o=n.state.getFromRing(i);if(o){var s=t.getPosition();t.executeEdits(e.SOURCE,[{range:r.Range.fromPositions(s,s),text:o,forceMoveMarkers:!0}])}},n}(s);e.Yank=R;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e,n){var i=t.getSelection();if(!i.isEmpty()){e.state.addToRing(t.getModel().getValueInRange(i)),e.selectionMode=!1;var o=e.getCursorAnchor();t.setSelection(r.Selection.fromPositions(o,o))}},e}(s);e.YankSelectionToRing=x;var L=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){var o=n.state.popFromRing();if(o){var s=n.getCursorAnchor();t.executeEdits(e.SOURCE,[{range:r.Range.fromPositions(s),text:o,forceMoveMarkers:!0}])}},n}(s);e.YankRotate=L;var O=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){var o=t.getSelection();"up"===this.revealFunction?t.trigger(e.SOURCE,"scrollPageUp",null):t[this.revealFunction](o)},n}(s);e.RevealEditorAction=O;var K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revealFunction="revealRangeAtTop",e}return o(e,t),e}(O);e.RevealToTopAction=K;var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revealFunction="revealRangeInCenter",e}return o(e,t),e}(O);e.RevealToCenterAction=A;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revealFunction="up",e}return o(e,t),e}(O);e.RevealToBottomAction=D;var k=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){for(var o=t.getModel().getOptions(),r=o.tabSize,s=o.insertSpaces,u="",a=0;a<i;a++){for(var c="",l=0;l<r;l++)c+=" ";u+=s?c:"\t"}t.executeEdits(e.SOURCE,[{range:t.getSelection(),text:u,forceMoveMarkers:!0}])},n}(s);e.InsertTabs=k;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e,n){var i=t.getVisibleRanges();if(i.length){for(var o=[],s=0;s<i.length;s++)for(var u=i[s],a=u.startLineNumber;a<=u.endLineNumber;a++)o.push(a);var c,l=t.getPosition(),p=Math.ceil(o.length/2);c=l.lineNumber===o[p]?new r.Position(o[0],1):l.lineNumber===o[0]?new r.Position(o[o.length-1],1):new r.Position(o[p],1),t.setPosition(c)}},e}(s);e.RotateCursorOnScreen=T;var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e){e.getBasicInput("Goto Line: ").then(function(n){var i=parseInt(n)||0,o=t.getModel().getLineCount();t.focus(),i?i>o&&(i=o):i=1;var s,u=new r.Position(i,1);if(e.selectionMode){var a=t.getSelection();s=a.getDirection()===r.SelectionDirection.LTR?r.Selection.fromPositions(a.getStartPosition(),u):r.Selection.fromPositions(a.getEndPosition(),u)}else s=r.Selection.fromPositions(u);t.setSelection(s),t.revealRangeInCenter(s)}).catch(function(){t.focus()})},e}(s);e.GotoLine=B;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.run=function(t,e,n){var i,o=t.getSelection();o.isEmpty()||(i=o.getDirection()===r.SelectionDirection.LTR?r.Selection.fromPositions(o.getEndPosition(),o.getStartPosition()):r.Selection.fromPositions(o.getStartPosition(),o.getEndPosition()),t.setSelection(i))},e}(s);e.InvertSelection=I;var U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showReplace=!1,e}return o(e,t),e.prototype.run=function(t,e,n){var i=t.getContribution("editor.contrib.findController");i&&i.start({forceRevealReplace:this.showReplace,seedSearchStringFromSelection:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,shouldFocus:1})},e}(s);e.Search=U;var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showReplace=!0,e}return o(e,t),e}(U);e.SearchReplace=N;var W=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.run=function(t,n,i){n.selectionMode=!1;for(var o=0;o<i;o++)t.trigger(e.SOURCE,"editor.action.deleteLines",null)},n}(s);e.DeleteLines=W},2612:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2275),o=n(1130),r=n(2476),s=n(2613),u=n(2614),a=n(2615),c=i.editor,l=c.TextEditorCursorBlinkingStyle,p=c.TextEditorCursorStyle,d=function(){function t(t){this._disposables=[],this._inSelectionMode=!1,this._changeDisposable=null,this._state=new a.State,this._onDidMarkChange=new s.Emitter,this.onDidMarkChange=this._onDidMarkChange.event,this._onDidChangeKey=new s.Emitter,this.onDidChangeKey=this._onDidChangeKey.event,this._editor=t;var e=t.getConfiguration().viewInfo;this._intialCursorType=p[e.cursorStyle].toLowerCase(),this._intialCursorBlinking=l[e.cursorBlinking].toLowerCase(),this._basicInputWidget=new u.BasicInputWidget}return t.prototype.start=function(){this._disposables.length||(this.addListeners(),this._editor.updateOptions({cursorStyle:p[p.Block].toLowerCase(),cursorBlinking:l[l.Blink].toLowerCase()}),this._editor.addOverlayWidget(this._basicInputWidget))},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.getEditor=function(){return this._editor},t.prototype.addListeners=function(){this._disposables.push(this._editor.onKeyDown(this.onKeyDown.bind(this))),this._throttledScroll=o(this.onEditorScroll.bind(this),500),this._disposables.push(this._editor.onDidScrollChange(this._throttledScroll))},t.prototype.cancelKey=function(t){t.preventDefault(),t.stopPropagation()},t.prototype.onKeyDown=function(t){var e=s.monacoToEmacsKey(t);if(e){if(e=this._state.updateAndGetKey(e),this._onDidChangeKey.fire(this._state.getReadableState()),e===a.EAT_UP_KEY)return this._onDidChangeKey.fire(this._state.getReadableState()),void this.cancelKey(t);var n=r.COMMANDS[e];n?(this.cancelKey(t),r.executeCommand(this,n,this._state.getInputBuffer()),this._state.updateStateOnExecution()):this._onDidChangeKey.fire(this._state.getReadableState())}},t.prototype.onEditorScroll=function(){var t=this._editor.getLayoutInfo().height,e=this._editor.getScrolledVisiblePosition(this._editor.getPosition());if(!(e.top>=0&&e.top<=t)){var n=this._editor.getVisibleRanges();if(n.length){var o,r=this._editor.getSelection();e.top<0?o=new i.Position(n[0].getStartPosition().lineNumber,1):e.top>t&&(o=new i.Position(n[n.length-1].getEndPosition().lineNumber,1)),this._inSelectionMode?this._editor.setSelection(i.Selection.fromPositions(r.getStartPosition(),o)):this._editor.setPosition(o)}}},t.prototype.onContentChange=function(){this.selectionMode=!1},t.prototype.clearState=function(){this._state.updateStateOnExecution()},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._inSelectionMode},set:function(t){t!==this._inSelectionMode&&(this._inSelectionMode=t,t?this._changeDisposable=this._editor.onDidChangeModelContent(this.onContentChange.bind(this)):this._changeDisposable&&(this._changeDisposable.dispose(),this._changeDisposable=null),this._onDidMarkChange.fire(t))},enumerable:!0,configurable:!0}),t.prototype.getCursorAnchor=function(){var t=this._editor.getSelection();return t.getDirection()===i.SelectionDirection.LTR?t.getEndPosition():t.getStartPosition()},t.prototype.getBasicInput=function(t){return this._basicInputWidget.getInput(t)},t.prototype.dispose=function(){this._disposables.forEach(function(t){return t.dispose()}),this._disposables=void 0,this._changeDisposable&&(this._changeDisposable.dispose(),this._changeDisposable=null),this._editor.updateOptions({cursorStyle:this._intialCursorType,cursorBlinking:this._intialCursorBlinking}),this._editor.removeOverlayWidget(this._basicInputWidget),this._basicInputWidget.dispose(),this._throttledScroll.cancel(),this._state=null},t}();e.EmacsExtension=d},2613:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2275);e.modifierKeys={Alt:"M",Control:"C",Ctrl:"C",Meta:"CMD",Shift:"S"};var o={Enter:"Return",Space:"SPC",BACKSLASH:"\\",SLASH:"/",BACKTICK:"`",CLOSE_SQUARE_BRACKET:"]",OPEN_SQUARE_BRACKET:"[",COMMA:",",DOT:".",EQUAL:"=",MINUS:"-",QUOTE:"'",SEMICOLON:";"};e.monacoToEmacsKey=function(t){var n=i.KeyCode[t.keyCode];if(e.modifierKeys[n])return"";var r=0===n.indexOf("KEY_")||0===n.indexOf("NUMPAD_")?n[n.length-1]:n;return n.indexOf("Arrow")===n.length-"Arrow".length?r=n.substr(0,n.length-5):0===n.indexOf("US_")?r=o[n.substr(3)]:o[n]&&(r=o[r]),1===r.length&&(r=r.toLowerCase()),t.altKey&&(r=e.modifierKeys.Alt+"-"+r),t.ctrlKey&&(r=e.modifierKeys.Ctrl+"-"+r),t.metaKey&&(r=e.modifierKeys.Meta+"-"+r),t.shiftKey&&(r=e.modifierKeys.Shift+"-"+r),r},function(t){var e={dispose:function(){}};t.None=function(){return e}}(e.Event||(e.Event={}));var r=function(){function t(){this._listeners=[]}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(e){return t._listeners.push(e),{dispose:function(){if(!t._disposed){var n=t._listeners.indexOf(e);n<0||t._listeners.splice(n,1)}}}}),this._event},enumerable:!0,configurable:!0}),t.prototype.fire=function(t){this._listeners.length&&this._listeners.forEach(function(e){return e(t)})},t.prototype.dispose=function(){this._disposed||(this._listeners=void 0,this._disposed=!0)},t}();e.Emitter=r},2614:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2275),o="ext-emacs-basic-input";var r=function(){function t(){var t=this;this._pendingPromise=null,this.onKeyDown=function(e){(e.altKey||e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation()),13===e.which?t._pendingPromise&&(e.preventDefault(),t._pendingPromise.resolve(e.target.value),t._pendingPromise=null):27===e.which&&t._pendingPromise&&(t._pendingPromise.reject(),t._pendingPromise=null)},this.onBlur=function(){t._pendingPromise&&(t._pendingPromise.reject(),t._pendingPromise=null)},this._dom=document.createElement("div"),this._messageDom=document.createElement("div");var e=document.createElement("div");this._dom.setAttribute("class",o),this._dom.setAttribute("aria-hidden","true"),this._input=document.createElement("input"),this._dom.appendChild(this._messageDom),e.appendChild(this._input),this._dom.appendChild(e),this.addListeners(),this._style=document.createElement("style"),this._style.type="text/css",this._style.textContent="\n  ."+o+" {\n    color: #d4d4d4;\n    transition: top 200ms linear;\n    visibility: hidden;\n    width: 200px;\n    display: flex;\n    align-items: center;\n    padding: 5px;\n  }\n\n  ."+o+"."+o+"-visible {\n    visibility: visible;\n  }\n\n  ."+o+" input {\n    color: rgb(97, 97, 97);\n    background-color: transparent;\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    line-height: inherit;\n    border: none;\n    font-family: inherit;\n    font-size: inherit;\n    resize: none;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    margin-left: 5px;\n    max-width: 50px;\n  }\n\n  ."+o+" input:focus {\n    outline: none;\n  }\n\n  .vs ."+o+" {\n    color: rgb(97, 97, 97);\n    background-color: #efeff2;\n    box-shadow: 0 2px 8px #a8a8a8;\n  }\n\n  .vs-dark ."+o+" {\n    background-color: #2d2d30;\n    box-shadow: 0 2px 8px #000000;\n  }\n\n  .vs-dark ."+o+" input {\n    color: rgb(204, 204, 204);\n  }\n\n  .hc-black ."+o+" {\n    border: 2px solid #6fc3df;\n    background-color: #0c141f;\n    color: #ffffff;\n  }\n\n  .hc-black ."+o+" input {\n    color: #ffffff;\n  }\n",(document.head||document.body).appendChild(this._style)}return t.prototype.getDomNode=function(){return this._dom},t.prototype.getId=function(){return"extension.emacs.basicinput"},t.prototype.getPosition=function(){return{preference:i.editor.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}},t.prototype.addListeners=function(){this._input.addEventListener("keydown",this.onKeyDown),this._input.addEventListener("blur",this.onBlur)},t.prototype.showWidgetAndFocus=function(t){this._dom.classList.add(o+"-visible"),this._dom.setAttribute("aria-hidden","false"),this._messageDom.textContent=t,this._input.focus()},t.prototype.cleanup=function(){this._dom.classList.remove(o+"-visible"),this._dom.setAttribute("aria-hidden","true"),this._messageDom.textContent="",this._input.placeholder="",this._input.value=""},t.prototype.getInput=function(t){var e=this;return this._pendingPromise&&(this._pendingPromise.reject(),this._pendingPromise=null),new Promise(function(n,i){e._pendingPromise={resolve:function(t){n(t),e.cleanup()},reject:function(){i(),e.cleanup()}},e.showWidgetAndFocus(t)})},t.prototype.dispose=function(){this.cleanup(),this._input.removeEventListener("keydown",this.onKeyDown),this._input.removeEventListener("blur",this.onBlur),(document.head||document.body).removeChild(this._style)},t}();e.BasicInputWidget=r},2615:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2476);e.EAT_UP_KEY="==-==";var o=function(){function t(){this._inargumentMode=!1,this._killRing=[]}return t.prototype.updateAndGetKey=function(t){return"C-g"===t&&(this._inargumentMode||this._prefixKey)?(this.resetState(),e.EAT_UP_KEY):this.updateCuMode(t)?e.EAT_UP_KEY:this._prefixKey?this._prefixKey+" "+t:i.prefixPreservingKeys[t]?(this._prefixKey=t,e.EAT_UP_KEY):t},t.prototype.resetState=function(t){void 0===t&&(t=!1),this._inargumentMode=t,this._prefixKey=null,this._lastInputBuffer=t?this._inputBuffer:null,this._inputBuffer=null},t.prototype.updateCuMode=function(t){if(this._inargumentMode){if("string"==typeof t&&/^\d$/.test(t))return this._inputBuffer=(this._inputBuffer||"")+t,!0;if(i.prefixPreservingKeys[t])return this.resetState(!0),!1}else if(!this._prefixKey&&"C-u"===t)return this._inargumentMode=!0,this._inputBuffer=null,this._lastInputBuffer=null,!0},t.prototype.updateStateOnExecution=function(t){void 0===t&&(t=!1),this.resetState(t)},t.prototype.getInputBuffer=function(){return this._lastInputBuffer||this._inputBuffer},t.prototype.addToRing=function(t){this._killRing.push(t),this._killRing.length>50&&this._killRing.shift()},t.prototype.growRingTop=function(t){this._killRing.length||(this.addToRing(t),this._killRing[this._killRing.length-1]+=t)},t.prototype.getFromRing=function(t){return this._killRing[this._killRing.length-(t?Math.min(t,1):1)]||""},t.prototype.popFromRing=function(){return this._killRing.length>1?this._killRing.pop():this.getFromRing()},t.prototype.getReadableState=function(){var t="";return this._inargumentMode&&(t+="C-u",this._inputBuffer?t+=" "+this._inputBuffer:this._lastInputBuffer&&(t+=" "+this._lastInputBuffer)),this._prefixKey&&(t+=" "+this._prefixKey),t},t}();e.State=o}}]);